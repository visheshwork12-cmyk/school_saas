# =============================================================================
# SCHOOL ERP SAAS - DEVELOPMENT ENVIRONMENT CONFIGURATION (VERCEL)
# =============================================================================
# This file contains environment variables for Vercel development deployment
# Never commit sensitive values to version control

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
APP_NAME="School ERP SaaS - Development"
APP_VERSION=1.0.0-dev
DEPLOYMENT_TYPE=traditional  # ✅ CHANGED FROM 'serverless'
DEPLOYMENT_PLATFORM=local    # ✅ CHANGED FROM 'vercel'

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Development MongoDB (use MongoDB Atlas for Vercel)
MONGODB_URI=mongodb://localhost:27017/school-erp-dev
MONGODB_TEST_URI=mongodb://localhost:27017/school-erp-dev-test
MONGO_MAX_POOL_SIZE=5
MONGO_MIN_POOL_SIZE=1
MONGO_SERVER_SELECTION_TIMEOUT=5000
MONGO_SOCKET_TIMEOUT=30000
MONGO_CONNECT_TIMEOUT=10000
MONGO_MAX_IDLE_TIME=30000

# =============================================================================
# REDIS/CACHE CONFIGURATION
# =============================================================================
# Redis (use Redis Cloud or Upstash for Vercel)
REDIS_ENABLED=true
REDIS_URL=redis://default:password@redis-dev.upstash.io:6379
REDIS_HOST=redis-dev.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_CONNECT_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=5000

# Cache Configuration
CACHE_STRATEGY=redis
CACHE_TTL=300
CACHE_CHECK_PERIOD=60
CACHE_MAX_KEYS=5000

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_ACCESS_SECRET=dev-jwt-access-secret-key-256-bits-minimum-for-development-environment-only
JWT_REFRESH_SECRET=dev-jwt-refresh-secret-key-256-bits-minimum-for-development-environment-only
JWT_ACCESS_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=30d
JWT_ISSUER=school-erp-dev
JWT_AUDIENCE=school-erp-dev-users
JWT_ALGORITHM=HS256
JWT_CLOCK_TOLERANCE=60

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
BCRYPT_SALT_ROUNDS=10
MAX_LOGIN_ATTEMPTS=10
ACCOUNT_LOCKOUT_DURATION=15m
SESSION_TIMEOUT=24h
MAX_CONCURRENT_SESSIONS=5
ENABLE_DEVICE_TRACKING=false
ENABLE_IP_VALIDATION=false
ENABLE_SUSPICIOUS_ACTIVITY_DETECTION=false
ENABLE_HTTPS=false
REQUIRE_EMAIL_VERIFICATION=false

# Password Policy (Relaxed for development)
PASSWORD_MIN_LENGTH=4
PASSWORD_REQUIRE_UPPERCASE=false
PASSWORD_REQUIRE_LOWERCASE=false
PASSWORD_REQUIRE_NUMBERS=false
PASSWORD_REQUIRE_SYMBOLS=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=pretty
STRUCTURED_LOGGING=false
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:5173,https://*.vercel.app
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_CREDENTIALS=true
CORS_DYNAMIC_ORIGIN=true
CORS_MAX_AGE=3600

# =============================================================================
# MULTI-TENANT CONFIGURATION
# =============================================================================
MULTI_TENANT_ENABLED=true
MULTI_TENANT_MODE=header
DEFAULT_TENANT_ID=dev-school
TENANT_HEADER_NAME=x-tenant-id
TENANT_ISOLATION_LEVEL=database
CACHE_BY_TENANT=true

# =============================================================================
# SUBSCRIPTION CONFIGURATION
# =============================================================================
DEFAULT_TRIAL_DAYS=365
SUBSCRIPTION_GRACE_PERIOD_DAYS=30
TRIAL_FEATURES=ACADEMIC,ATTENDANCE,FINANCE,LIBRARY,HR,TRANSPORT
BASIC_MAX_STUDENTS=1000
BASIC_MAX_TEACHERS=50
BASIC_MAX_STORAGE_GB=10
PREMIUM_MAX_STUDENTS=5000
PREMIUM_MAX_TEACHERS=100
PREMIUM_MAX_STORAGE_GB=50
BASIC_FEATURES=ACADEMIC,ATTENDANCE,COMMUNICATION
PREMIUM_FEATURES=ACADEMIC,ATTENDANCE,FINANCE,LIBRARY,HR,TRANSPORT
ENTERPRISE_FEATURES=ALL

# =============================================================================
# VERSIONING CONFIGURATION
# =============================================================================
CURRENT_API_VERSION=1.0.0
DEFAULT_API_VERSION=1.0.0
MINIMUM_SUPPORTED_VERSION=1.0.0
VERSION_DEPRECATION_WARNING_DAYS=365
VERSION_SUNSET_GRACE_PERIOD_DAYS=730
SLOW_TRANSFORMATION_THRESHOLD_MS=1000
VERSIONING_STRATEGY=header
VERSION_HEADER_NAME=api-version

# =============================================================================
# FEATURE FLAGS CONFIGURATION
# =============================================================================
FEATURE_FLAGS_PROVIDER=memory
FEATURE_FLAGS_CACHE_TTL=60
FEATURE_ROLLOUT_DEFAULT_PERCENTAGE=100
ENABLE_EXPERIMENTAL_FEATURES=true
A_B_TEST_DEFAULT_DURATION_DAYS=7
MAINTENANCE_MODE=false
READ_ONLY_MODE=false
NEW_USER_REGISTRATION=true
EMAIL_VERIFICATION_REQUIRED=false

# =============================================================================
# EXTERNAL SERVICES CONFIGURATION
# =============================================================================
# AWS Configuration (Optional for development)
AWS_REGION=us-east-1
AWS_S3_BUCKET=school-erp-dev-bucket
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Email Configuration (Use Resend or similar for Vercel)
EMAIL_ENABLED=true
EMAIL_PROVIDER=resend
RESEND_API_KEY=your-resend-api-key
EMAIL_FROM=noreply@dev.school-erp.com
EMAIL_REPLY_TO=support@school-erp.com

# SMTP Configuration (Fallback)
SMTP_HOST=smtp.resend.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=resend
SMTP_PASS=your-resend-api-key

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=1000
RATE_LIMIT_SKIP_SUCCESSFUL=true
RATE_LIMIT_SKIP_FAILED=true

# =============================================================================
# BODY PARSER CONFIGURATION
# =============================================================================
BODY_PARSER_JSON_LIMIT=10mb
BODY_PARSER_URLENCODED_LIMIT=10mb
BODY_PARSER_PARAMETER_LIMIT=1000
BODY_PARSER_ARRAY_LIMIT=100

# =============================================================================
# COMPRESSION CONFIGURATION
# =============================================================================
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=1
COMPRESSION_THRESHOLD=1024

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=6000
MAX_HEADERS_COUNT=2000

# =============================================================================
# DEVELOPMENT SPECIFIC FEATURES
# =============================================================================
ENABLE_DEV_MIDDLEWARE=true
ENABLE_DETAILED_ERRORS=true
ENABLE_API_DOCS=true
ENABLE_DEBUG_MODE=true
SKIP_EMAIL_VERIFICATION=true
ENABLE_MOCK_DATA=true
ENABLE_TEST_ENDPOINTS=true
ENABLE_HOT_RELOAD=true
ENABLE_QUERY_LOGGING=true

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
MONITORING_ENABLED=false
PERFORMANCE_MONITORING_ENABLED=false
ERROR_TRACKING_ENABLED=false
ANALYTICS_ENABLED=false

# =============================================================================
# VERCEL SPECIFIC CONFIGURATION
# =============================================================================
VERCEL_URL=your-app.vercel.app
VERCEL_ENV=development
VERCEL_REGION=iad1
